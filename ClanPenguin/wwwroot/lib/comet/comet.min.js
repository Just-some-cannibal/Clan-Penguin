var Comet;Comet=Comet||{};Comet.Utils=function(){"use strict";return{debounceFunction:function(n,t){var i=null;return function(){var r=function(){i=null;n()},u=!i;clearTimeout(i);i=setTimeout(r,t);u&&n()}},hasScrollBar:function(n){return n.get(0).scrollHeight>n.innerHeight()}}}();Comet=Comet||{};Comet.DropdownMenu=function(){"use strict";function u(n){return $(n).hasClass(t)||$(n).closest("."+t).length>0}function i(){$("."+r).removeClass(n)}function f(t){var r=$("#"+t.attr("data-comet-popover"));i();r.hasClass("visible")?(t.removeClass(n),r.trigger("hide")):(t.addClass(n),r.trigger("show",{el:t[0]}))}function e(n){n.on("click",function(n){n.preventDefault();f($(this))});$(document).on("click touchend",function(n){u(n.target)||i()})}var n="comet-dropdown-trigger--menu-visible",r=n,t="js-comet-dropdown-trigger",o=function(){$("."+t).each(function(){$(this).hasClass("comet-button")&&(n+=" comet-button--active comet-button--hover");e($(this))})};return{initialize:o}}();$(document).ready(function(){"use strict";Comet.DropdownMenu.initialize()});Comet=Comet||{};Comet.GlobalNavBar=function(){"use strict";function u(n){var t=/[^/]*$/.exec(window.location.pathname)[0];n.find("a[href$='"+t+"']").closest(".comet-global-nav-bar__item").addClass("comet-global-nav-bar__item--selected comet-list-group__row--selected")}function f(i){i.on("click",".js-comet-global-nav-bar__more-nav-trigger",function(n){n.preventDefault();i.hasClass(t)?i.removeClass(t):i.addClass(t)});i.on("click",".js-comet-global-nav-bar__customization-toggle",function(t){t.preventDefault();n()});i.on("click",".js-comet-global-nav-bar__reset-menu",function(t){t.preventDefault();n()});i.on("click",".js-comet-global-nav-bar__save-nav-order",function(t){t.preventDefault();n()});i.on("click",".js-comet-global-nav-bar__cancel-nav-order",function(t){t.preventDefault();n()});i.on("mouseleave",function(){$(document).trigger("comet-collapse-global-nav-bar")});$(document).on("click","."+r+" .comet-global-nav-bar__link",function(n){n.preventDefault()})}function n(){$(document).trigger("comet-toggle-global-nav-bar-customization-mode");s()}function e(){$(document).trigger("comet-global-nav-bar-sort-start")}function o(n){$(document).trigger("comet-global-nav-bar-sort-end");n.find(".comet-global-nav-bar__item").removeAttr("style")}function s(){$(".comet-page-shell").hasClass(r)?i($(".comet-global-nav-bar"),!1):i($(".comet-global-nav-bar"),!0)}function i(n,t){var t=typeof t=="undefined"?!0:t,i={axis:"y",containment:".js-comet-global-nav-bar",cursor:"grabbing",connectWith:".js-comet-global-nav-bar__items--sortable",handle:".comet-global-nav-bar__customize-sortable-target",items:".comet-global-nav-bar__item--draggable",placeholder:"comet-global-nav-bar__item-sort-placeholder",start:function(t,i){i.item.addClass("comet-global-nav-bar__item--sorting");e(n)},stop:function(t,i){i.item.removeClass("comet-global-nav-bar__item--sorting");o(n)}},r=i;t&&(i.handle=".comet-global-nav-bar__item-grip-wrap");n.find(".ui-sortable").each(function(){$(this).sortable("destroy")});n.find(".js-comet-global-nav-bar__items--more").sortable(i);n.find(".js-comet-global-nav-bar__items--primary").sortable(i);r.receive=function(n,t){t.item.appendTo($(".js-comet-global-nav-bar__items--more"))};n.find(".js-comet-global-nav-bar__items--more-hidden-dropzone").sortable(r)}var t="comet-global-nav-bar--more-nav-expanded",r="comet-page-shell--global-nav-bar-customizing",h=function(){$(".js-comet-global-nav-bar").each(function(){u($(this));f($(this));i($(this))})};return{initialize:h}}();$(document).ready(function(){"use strict";Comet.GlobalNavBar.initialize()});Comet=Comet||{};Comet.Modal=function(){"use strict";var i,n,u,f,r=!1,e=function(n){var t=$("#"+n).clone().attr("id",n+"-clone");r=t[0].className.indexOf("comet-modal--takeover")>=0?!0:!1;$("body").trigger("comet.modal.begin");$("body").addClass("comet-modal-open");o(t);s()},o=function(t){var f=$('<div class="comet-modal-overlay js-comet-modal-overlay" role="dialog"><\/div>'),e=$('<div class="comet-modal js-comet-modal" role="document"><\/div>');t.appendTo(e);r?(f.addClass("comet-modal-overlay--takeover"),e.appendTo(f),f.prepend('<button class="comet-button comet-button--flat comet-button--icon comet-modal__button--takeover-close js-comet-modal__close-button" aria-label="Close Modal"><svg class="comet-button--icon__icon comet-icon--l"><use xlink:href="/comet/comet_assets/comet.svg#x"><\/use><\/svg><\/button>'),$("body").append(f),n=$(".js-comet-modal-overlay")):(f.addClass("comet-modal-overlay--backdrop"),$("body").append(f),$("body").append(e),n=$(".js-comet-modal"));c();i=$(".js-comet-modal-overlay");u=$(".js-comet-modal__close-button");n.attr("tabindex","0");n.focus();$("body").trigger("comet.modal.generate")},s=function(){if(!r)i.on("click",t);u.on("click",t);$(document).keyup(function(n){n.keyCode===27&&t()})},h=function(n){var t=n?$(n):$(".js-modal-trigger");t.on("click",function(){var n=$(this).data("target");f=document.activeElement;e(n)})},t=function(){i.remove();n.remove();f.focus();$("body").removeClass("comet-modal-open");$("body").trigger("comet.modal.close")},c=function(){var n=$(".js-comet-modal"),i=n.find(".comet-modal__inner"),r=n.find(".comet-modal__content"),u=n.find(".comet-modal__header").height(),f=n.find(".comet-modal__footer").outerHeight(),e=document.body.clientHeight,t;i.length>0&&(t=e-(u+f+80),t>775&&(t=775),r.css("max-height",t),Comet.Utils.hasScrollBar(r)?i.addClass("comet-modal--scrollable"):i.removeClass("comet-modal--scrollable"))},l=function(){h();$(window).resize(function(){$(".js-comet-modal").length>0&&Comet.Utils.debounceFunction(c(),200)})};return{initialize:l,openInModal:e,generateModal:o,closeModal:t,attachOpenEvents:h,attachCloseEvents:s}}();$(document).ready(function(){"use strict";Comet.Modal.initialize()});Comet=Comet||{};Comet.PageShell=function(){"use strict";function c(){$(".comet-page-shell").addClass(o)}function s(){$(".comet-page-shell").removeClass(o)}function l(){$(".comet-page-shell").hasClass(i)?h():a()}function a(){$(".comet-page-shell").addClass(i)}function h(){$(".comet-page-shell").removeClass(i)}function v(){$(".comet-page-shell").hasClass(r)?p():y()}function y(){$(".comet-page-shell").addClass(r);$(event.target).closest(".comet-product-bar__action").find(".comet-product-bar__search-input").focus()}function p(){$(".comet-page-shell").removeClass(r)}function f(){$(".comet-page-shell").hasClass(n)||$(".comet-page-shell").addClass(n)}function e(){$(".comet-page-shell").hasClass(n)&&!$(".comet-page-shell").hasClass(u)&&$(".comet-page-shell").removeClass(n)}function w(){$(".comet-page-shell").hasClass(t)?$(".comet-page-shell").removeClass(t):$(".comet-page-shell").addClass(t)}function b(){$(".comet-page-shell").addClass(u)}function k(){$(".comet-page-shell").removeClass(u)}function d(){$(document).on("comet-show-global-nav-bar",c);$(document).on("comet-product-bar-toggle-panel",l);$(document).on("comet-product-bar-toggle-search",v);$(document).on("comet-global-nav-bar-sort-start",b);$(document).on("comet-global-nav-bar-sort-end",k);$(document).on("comet-toggle-global-nav-bar-customization-mode",w);$(document).on("comet-expand-global-nav-bar",f);$(document).on("comet-collapse-global-nav-bar",e);$(document).on("touchend","."+n+" .comet-page-shell__product-well",function(n){n.preventDefault();n.stopPropagation();e()});$(".comet-page-shell__global-nav-bar-touch-overlay").on("mouseenter",f);$(".js-comet-page-shell__global-nav-bar").on("mouseleave",e);$(".comet-page-shell__global-nav-bar-touch-overlay").on("touchend",function(n){n.preventDefault();n.stopPropagation();f()});$(".js-comet-page-shell__close-global-nav-bar").on("click",function(n){n.preventDefault();s()});$(".js-comet-page-shell__product-well-overlay").on("click",function(n){n.preventDefault();$("."+t).length===0&&s()});$(".js-comet-page-shell__close-panel").on("click",function(n){n.preventDefault();h()})}var o="comet-page-shell--global-nav-bar-visible",n="comet-page-shell--global-nav-bar-expanded",i="comet-page-shell--panel-visible",r="comet-page-shell__search-visible",u="comet-page-shell--global-nav-bar-sorting",t="comet-page-shell--global-nav-bar-customizing",g=function(){d()};return{initialize:g}}();$(document).ready(function(){"use strict";Comet.PageShell.initialize()});Comet.Popovers=function(){"use strict";var e,t,n,i,h=[],ft=0,et=6,w=12*Math.sqrt(2),ot=w/2,c="top",b="bottom",r,u,o,l,k=["top","right","bottom","left"],d=function(n,t){if(st(t),t)$(".js-comet-tooltip-trigger, *[data-comet-tooltip-text]").on("mouseenter mouseleave focus blur",g);else{$(".js-comet-popover-trigger").each(function(){var n=$(this).data("comet-popover-event")==="hover",t=n?"mouseenter mouseleave":"click focus";$(this).on(t,g)});$(".comet-popover").on("show hide",nt);$("body").on("show hide",".comet-tooltip__content",nt)}ct();lt();at()},st=function(n){n?($(".js-comet-tooltip-trigger, *[data-comet-tooltip-text]").off("mouseenter mouseleave focus blur"),$(".comet-tooltip__content").remove()):$(".js-comet-popover-trigger").off()},g=function(t){var i,u;t.stopPropagation();n=!!$(this).data("comet-tooltip-text");var f=t.type!=="mouseenter",r={el:t.currentTarget,debounce:f};if(n&&["mouseenter","mouseleave","focus","blur"].indexOf(t.type)!==-1?(ni(this)||ti(this),i=rt(this)):(u=$(this).data("comet-popover"),i=$("#"+u),$(this).find(".comet-tooltip__content").trigger("hide")),ht(i)){if(n&&t.type==="mouseenter"||t.type==="focus")return;i.trigger("hide",r)}else{if(n&&t.type==="mouseleave"||t.type==="blur")return;i.trigger("show",r)}},nt=function(n,i){var u,r;i=i||{};e=i.el||e;t=$(e);u=i.debounce===void 0?!0:i.debounce;setTimeout(function(){h=[]},200);h.indexOf(this)===-1&&(u&&h.push(this),r=$(this),n.type==="hide"?dt(r):n.type==="show"&&it(r))},ht=function(n){return n.hasClass("visible")},ct=function(){$(document).on("click touchend",function(n){wt(n.target)||tt()})},lt=function(){$(document).on("keyup",function(n){n.which===27&&tt()})},at=function(){$(window).on("resize",yt)},vt=function(){pt()},yt=Comet.Utils.debounceFunction(vt,200),pt=function(){var n=$(".comet-popover.visible"),t=n.attr("id"),i=$('[data-comet-popover="'+t+'"]').get(0);n.trigger("show",{el:i,debounce:!1})},tt=function(){$(".comet-popover.visible, .comet-tooltip__content.visible").trigger("hide")},wt=function(n){return bt(n,"comet-popover")},bt=function(n,t){var i="."+t;return $(n).hasClass(t)||!!$(n).closest(i).length},it=function(t){n||$(".comet-popover, .comet-tooltip__content").not(t).trigger("hide");kt();e.offsetHeight;t.addClass("visible");t.removeAttr("aria-hidden");var i=fi(t);oi(t,i)},kt=function(){i="";i=t.attr("title");i&&t.attr("title","")},dt=function(n){n.removeClass("visible");n.attr("aria-hidden","true");gt()},gt=function(){i&&t.attr("title",i)},ni=function(n){return!!rt(n).length},rt=function(n){var t=$(n).attr("aria-describedby");return $(n).siblings("#"+t)},ti=function(n){var t=ri(),i="comet-tooltip__content"+ii(n);$(n).after('<div class="comet-tooltip__content '+i+'" id="'+t+'" role="tooltip"><span class="comet-tooltip__nub"><\/span><span class="comet-tooltip__text">'+$(n).data("comet-tooltip-text")+"<\/span><\/div>");ui(n,t)},ii=function(n){var r=$(n),i=a(r),u=p(r),t;return i=i||c,t="--"+i,u&&(t=t+"-"+u),t},ri=function(){return"tt"+Math.floor(Math.random()*1e10)},ui=function(n,t){$(n).attr("aria-describedby",t)},fi=function(i){var e=a(i),tt,g,h,k,it;if(e||(tt=n?"comet-tooltip--"+c:"comet-popover--"+b,$(f(i)).addClass(tt),e=n?c:b),g=ot+ft,v(e)){var d="center",nt=s(e)+y(e,g),rt=e;r=d;o=d;u=nt;l=rt}else u="center",l="center",r=s(e)+y(e,g),o=e;return h=p(i),h&&(h.indexOf("-aligned")!==-1?(d=h.replace("-aligned",""),nt=s(e),r=d,o=d,u=nt):(k=s(h),it=et+w/2,k=k+y(k,it),v(h)?u=k:r=k)),{my:r+" "+u,at:o+" "+l,of:t,collision:"cometCustomCollisionHandler",using:li}},a=function(n){var t;return k.forEach(function(i){var r=new RegExp("comet-.*--"+i);r.test(f(n).className)&&(t=i)}),t||null},f=function(n){return n.get(0)},v=function(n){return n==="top"||n==="bottom"},ei=function(n){return n==="left"||n==="right"},s=function(n){return{top:"bottom",bottom:"top",left:"right",right:"left"}[n]},y=function(n,t){var i;return i=n==="top"||n==="left"?"-":"+",i+t},p=function(n){var t;return k.forEach(function(i){var r=new RegExp("comet-(tooltip|tooltip__content|popover)--.+-"+i);r.test(f(n).className)&&(t=i)}),(t==="left"||t==="right")&&n.attr("class").indexOf("-aligned")!==-1&&(t=t+"-aligned"),t||null},oi=function(n,t){n.position(t).position(t)};$.ui.position.cometCustomCollisionHandler={left:function(n,t){ut("left",n,t)},top:function(n,t){ut("top",n,t)}};var ut=function(n,t,i){var r=t[n];si(n,t,i);hi(r,t,i.elem,n)},si=function(n,t,i){$.ui.position.flip[n](t,i)},hi=function(n,t,i,r){var u=ci(r),f=i.find(".comet-popover__nub , .comet-tooltip__nub");f.toggleClass(u,n!==t[r])},ci=function(n){return n==="left"?"flipped-x":"flipped-y"},li=function(n,t){var i=t.element.element,e=t.target.element.get(0),o=a(i),s=v(o),h=p(i),u=ei(h),f=!1,r;s&&!u&&(r=ai(i,e,u),r&&(vi(i,r),f=!0,setTimeout(function(){it(i)},0)));f||$(this).css(n)},ai=function(n){var t=null,i,r;return n.offset().left<0?t="right":(i=$("html").outerWidth(),r=n.offset().left+n.outerWidth(),r>i&&(t="left")),t},vi=function(n,t){var i=f(n).className.match(/comet-(popover|tooltip|tooltip__content)--(top|bottom)/)[0],r=i+"-"+t;$(f(n)).removeClass(i).addClass(r)};return $(document).ready(d),{initialize:d}}();Comet=Comet||{};Comet.ProductBar=function(){"use strict";function t(t){t.find(".js-comet-product-bar__show-global-nav-bar").on("click",function(i){t.hasClass(n)||(i.preventDefault(),$(document).trigger("comet-show-global-nav-bar"))});t.find(".js-comet-product-bar__toggle-panel").on("click",function(n){n.preventDefault();$(document).trigger("comet-product-bar-toggle-panel")});t.find(".js-comet-product-bar__toggle-search").on("click",function(n){n.preventDefault();$(document).trigger("comet-product-bar-toggle-search")})}var n="comet-product-bar--legacy",i=function(){$(".js-comet-product-bar").each(function(){t($(this))})};return{initialize:i}}();$(document).ready(function(){"use strict";Comet.ProductBar.initialize()});Comet=Comet||{};Comet.Tab=function(){"use strict";function kt(n,t){var i;return typeof n.attr("data-comet-more-menu-label-width")=="undefined"?(i=t.outerWidth()+parseInt(t.css("margin-left"),10)+parseInt(t.css("margin-right"),10),n.attr("data-comet-more-menu-label-width",i)):i=n.attr("data-comet-more-menu-label-width"),i}function dt(n){n.hasClass(f)||(n.addClass(f),rt(n))}function gt(n){n.removeClass(f);ri(n)}function ni(n){return n.outerWidth()+parseInt(n.css("margin-left"),10)+parseInt(n.css("margin-right"),10)}function ti(n,t){var i=n.attr("for");n.addClass(p);t.find("[href='#"+i+"']").closest(".comet-list-group__row").addClass(b)}function ii(n,t){var i=n.attr("for");n.removeClass(p);t.find("[href='#"+i+"']").closest(".comet-list-group__row").removeClass(b)}function nt(t){var h=t.find("> "+n),i=t.find("> ."+u+":not("+n+")"),c=t.outerWidth(),f=0,e=t.find(r),o=!1,l=i.length,s=0,a=kt(t,h),v=c-a-24;i.each(function(){var n=ni($(this));f+=n;f>v?(ti($(this),e),o=!0,s++):ii($(this),e)});o?t.addClass(w):t.removeClass(w);s===l?dt(t):gt(t);it(t);ut(t)}function tt(t){var i=t.find(r),u=t.find(n),f=i.outerWidth(),e=u.position().left;f>e?i.addClass("comet-tabs__more-menu--left-aligned"):i.removeClass("comet-tabs__more-menu--left-aligned")}function it(n){var u=n.find("."+i).attr("for"),t=n.find(r);t.find("."+h).removeClass(h);t.find("[href='#"+u+"']").closest(".comet-list-group__row").addClass(h)}function ri(t){var i=t.find(n),r=i.find(".comet-tab__label-text--more"),u=t.attr("data-comet-more-menu-default-label");r.text(u)}function rt(t){var f=t.find(n),r=f.find(".comet-tab__label-text--more"),u=r.text(),e=t.find("."+i+":not("+n+")").text();typeof t.attr("data-comet-more-menu-default-label")=="undefined"?t.attr("data-comet-more-menu-default-label",u):u=t.attr("data-comet-more-menu-default-label");r.text(e)}function ut(t){var i=t.find(n),u=t.find(r);u.find(".comet-tabs__more-menu-item--visible.comet-list-group__row--selected").length>0?i.addClass(k):i.removeClass(k)}function ui(n){var t=ot(n);n.on("click",pt,function(t){t.preventDefault();var i=$(this).attr("href").substr(1);n.find("[for='"+i+"']").trigger("click")});t.on("change",function(t){t.stopPropagation();it(n);n.hasClass(f)&&rt(n);ut(n)})}function fi(n){$(wt).on("click",function(n){n.preventDefault();ct("left",$(this).closest(t))});$(bt).on("click",function(n){n.preventDefault();ct("right",$(this).closest(t))});n.find(s).on("scroll",function(){l($(this))})}function ft(n){var t=0,r=n.find("."+u),f=n.outerWidth(),i=n.attr("data-comet-tab-labels-width");return typeof i=="undefined"?(r.each(function(){t+=$(this).outerWidth()+parseInt($(this).css("margin-left"),10)+parseInt($(this).css("margin-right"),10)}),t+=20,n.attr("data-comet-tab-labels-width",t)):t=i,t>f?!0:!1}function et(n){ft(n)?n.addClass(c):n.removeClass(c)}function ei(n){n.find("."+u).each(function(){var n=$(this).attr("for"),t=$(this).text();$("#"+n).next(".comet-tab__panel").prepend("<h3 class='comet-tab__panel-header'>"+t+"<\/h3>")})}function ot(n){var t="";return n.find("."+u).each(function(){var n=$(this).attr("for");t+="#"+n+", "}),t=t.slice(0,-2),$(t)}function st(n){var t=ot(n);ft(n)?(n.addClass(e),t.addClass(e)):(n.removeClass(e),t.removeClass(e))}function ht(n){var r=n.find(s),f=r.find("."+i),u=r[0].scrollWidth-n.outerWidth(),e=40,o,t;f.length>0&&(t=f.position().left,o=t<0?0:t>u?u-(e-(t-u)):t-e,r.scrollLeft(o),l(r))}function l(n){var r=n.scrollLeft(),i=n.closest(t),u=n[0].scrollWidth-n[0].clientWidth;r>0?i.addClass(d):i.removeClass(d);r<u?i.addClass(g):i.removeClass(g)}function ct(n,t){var r=t.find(s),f=r.scrollLeft(),e=r[0].scrollWidth-r[0].clientWidth,u=r[0].clientWidth-80,i;n==="left"?(u=-u,i=f+u,i<=0&&(i=0)):(i=f+u,i>=e&&(i=e));r.stop().animate({scrollLeft:i},400);l(r)}function lt(n){if(n.is(":checked")){var r=n.attr("id"),t=$("label[for='"+r+"']");t.closest(yt).find("."+i).removeClass(i);t.addClass(i)}}var yt=".comet-tabs",v=".comet-tab__input",t=".comet-tabs--horizontal-sliding",o=".comet-tabs--stacking",y=".comet-tabs--more, .comet-tabs:not("+t+", "+o+")",n=".comet-tab__label--more",s=".comet-tabs__horizontal-sliding-wrap",r=".comet-tabs__more-menu",pt=".comet-tabs__more-menu .comet-list-group__row-anchor",wt=".comet-tabs__horizontal-sliding-indicator--left",bt=".comet-tabs__horizontal-sliding-indicator--right",u="comet-tab__label",i="comet-tab__label--selected",p="comet-tab__label--hidden",f="comet-tabs--all-tabs-hidden",w="comet-tabs--more-visible",b="comet-tabs__more-menu-item--visible",k="comet-tab__label--selected",h="comet-list-group__row--selected",c="comet-tabs--horizontal-sliding-wrap-visible",d="comet-tabs--left-sliding-affordance-visible",g="comet-tabs--right-sliding-affordance-visible",e="comet-tabs--stacked",a=function(){$(y).each(function(){nt($(this));tt($(this))});$(t).each(function(){et($(this));ht($(this))});$(o).each(function(){st($(this))})},at,vt;$(window).on("resize",a);return at=function(){$(v).on("change",function(){lt($(this));a()});$(v+":checked").each(function(){lt($(this))});$(y).each(function(){nt($(this));ui($(this));tt($(this))});$(t).each(function(){$(this).addClass(c);et($(this));ht($(this));fi($(this))});$(o).each(function(){ei($(this));st($(this))})},vt={init:at,refreshTabStates:a},vt}();$(document).ready(function(){"use strict";Comet.Tab.init()});Comet.Tooltips=function(){"use strict";var n=function(){Comet.Popovers.initialize({},!0)};return $(document).ready(n),{initialize:n}}();Comet=Comet||{};Comet.TopHat=function(){"use strict";var n=function(){$(".js-comet-top-hat__close-button").on("click",function(n){n.preventDefault();t(n)})},t=function(n){var t=$(n.target).closest(".comet-top-hat"),i=t.outerHeight();t.addClass("comet-top-hat--hidden");t.attr("aria-hidden",!0);t.css("margin-top","-"+i)},i=function(){n()};return{initialize:i}}();$(document).ready(function(){"use strict";Comet.TopHat.initialize()});